---
title: Weather
layout: layouts/base.njk
tags: tool
---
{% include "icons/climacons.njk" %}
{% include "partials/header.njk" %}
<ul>
{% for trailSystem in query.trailSystems %}
  <li class="cp-trail-system">
    <h2>{{ trailSystem.name }}</h2>
    <ul class="cp-multiday-weather cp-blur-trigger__host">
      {% for dailyWeather in trailSystem.weather.daily.data %}
      <li class="cp-singleday-weather" tabindex="0" title="{{ dailyWeather.summary }} {{ dailyWeather.precipProbability | decimalToPercentage}} chance of {{ dailyWeather.precipType | friendlyPrecipitationType}}. Feels like {{ dailyWeather.apparentTemperatureMax | roundToIntTemperatureF }} at {{ dailyWeather.apparentTemperatureMaxTime | localeTime }}, {{ dailyWeather.apparentTemperatureMin | roundToIntTemperatureF }} at {{ dailyWeather.apparentTemperatureMinTime | localeTime }}. Sunset at {{ dailyWeather.sunsetTime | localeTime }}.">
        <time datetime="{{ dailyWeather.time | isoDate }}">{{ dailyWeather.time | dayOfWeek }}</time>
        <svg width="32px" height="32px">
          <title>{{ dailyWeather.summary }}</title>
          <use xlink:href="#{{ dailyWeather.icon }}"></use>
        </svg>
        <div class="cp-temperature-bracket">
          <span>{{ dailyWeather.temperatureHigh | roundToIntTemperatureF }}</span>
          <span>{{ dailyWeather.temperatureLow | roundToIntTemperatureF }}</span>
        </div>
      </li>
      {% endfor %}
      <div tabindex="0" class="cp-blur-trigger__overlay"></div>
    </ul>
    {# <ul>
      <input id="trailsys-{{ trailSystem.id }}-accordion" class="accordion" type="checkbox">
      <label for="trailsys-{{ trailSystem.id }}-accordion" class="accordion__when-collapsed">Show work in progress features</label>
      <label for="trailsys-{{ trailSystem.id }}-accordion" class="accordion__when-expanded">Hide work in progress features</label>
      <div class="accordion__when-expanded">
        <li>
          <div>{{ trailSystem.weather.daily.summary }}</div>
          <div>
            <a href="https://darksky.net/forecast/{{ trailSystem.parkingLots[0].entranceCoordinates.lat }},{{ trailSystem.parkingLots[0].entranceCoordinates.lng }}/us12/en" target="_blank">Weather details</a>
          </div>
        </li>
        <li>
        <span>Parking:</span>
        {% for parkingLot in trailSystem.parkingLots %}
          <span>{{ parkingLot.name }} {% if parkingLot.parkingPermits %}({{ parkingLot.parkingPermits[0].name }} required){% endif %}</span>
          <a href="https://www.google.com/maps/search/?api=1&query={{ parkingLot.entranceCoordinates.lat }},{{ parkingLot.entranceCoordinates.lng }}" target="_blank">location</a>
        {% endfor %}
        </li>
        <li>
          <span>Nearby food:</span>
          {% if trailSystem.restaurants.length > 0 %}
            {% for restaurant in trailSystem.restaurants %}
              <span>{{ restaurant.name }}</span>
            {% endfor %}
          {% endif %}
          <a href="https://www.yelp.com/search?cflt=restaurants&dt=1&find_loc={{ trailSystem.parkingLots[0].entranceCoordinates.lat }},{{ trailSystem.parkingLots[0].entranceCoordinates.lng }}" target="_blank">Yelp nearby</a>
        </li>
      </div>
    </ul> #}
  </li>
{% endfor %}
</ul>
